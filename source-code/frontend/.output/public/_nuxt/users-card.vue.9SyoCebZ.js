import{_ as R}from"./nuxt-link.J_JEgvNs.js";import{H as T,Z as F,_ as M,ab as I,L as f,a2 as d,o as i,c as n,a as c,S as e,R as O,w as r,b as s,O as V,d as $,t as v,a0 as _,ac as B,a3 as h}from"./entry.ydcKSOmp.js";import{_ as L}from"./user-default.U11R5qot.js";import{T as g,S as H}from"./usersRepository.aTEnToXm.js";import{N as P}from"./Tag.LqWm2sEN.js";import{M as j}from"./mail.UFdZnLr5.js";import{H as A}from"./heart.etCFSy6w.js";import{u as G}from"./use-message.azrYlSy8.js";import{N as l}from"./createLucideIcon.6Cz25YP-.js";const W={class:"rounded overflow-hidden relative bg-white dark:bg-muted border shadow-accent"},D={class:"absolute top-2 left-2 z-20"},Z=["src"],q={key:1,src:L,class:"w-full h-full object-cover"},J={class:"space-y-1 mt-3"},K={class:"text-xl font-medium leading-none"},Q={class:"grid grid-cols-5 mt-2 self-center pb-2 pt-2"},U={key:0,class:"text-gray-300 hover:text-red-600"},X={key:1,class:"text-gray-300 hover:text-red-600"},Y={key:2,class:"text-gray-300 hover:text-red-600"},de=T({__name:"users-card",props:{card:{}},emits:["update"],setup(x,{emit:y}){const m=G(),k=F(),w=M(),N=y,b=x,{card:t}=I(b),S=f(()=>{const{info:{messages_status:o}}=t.value;if(o){for(const a in o)if(o[a]!==!1&&o[a]!==null)return!0}return!1}),E=async()=>{try{if(t.value.is_favorite){const o=await h.removeFromFavourite(t.value.id);m.warning(o)}else{const o=await h.addToFavourite(t.value.id);m.success(o)}await k.setSettings(),await N("update")}catch{m.error("Ooops!Что-то пошло не так!")}},z=f(()=>d.MESSENGER+`/${t.value.id}`);return(o,a)=>{var p;const u=R;return i(),n("div",W,[c("div",D,[(p=e(t))!=null&&p.rating?(i(),O(e(P),{key:0,round:"",strong:"",bordered:!1},{icon:r(()=>[s(e(l),{component:V(e(g))},null,8,["component"])]),default:r(()=>[$(" "+v(e(t).rating),1)]),_:1})):_("",!0)]),c("div",{class:"h-[250px] relative overflow-hidden rounded-md hover:cursor-pointer",onClick:a[0]||(a[0]=C=>e(w).push(e(d).PROFILE+`${e(t).id}`))},[e(t).avatar?(i(),n("img",{key:0,src:e(t).avatar,width:"100%",height:"100%",class:"w-full h-full object-cover"},null,8,Z)):(i(),n("img",q))]),c("div",J,[s(u,{to:e(d).PROFILE+`${e(t).id}`,class:"text-black no-underline"},{default:r(()=>[c("h3",K,v(e(t).name),1)]),_:1},8,["to"])]),c("div",Q,[S.value?(i(),n("div",U,[s(u,{to:z.value,class:"text-gray-300 hover:text-red-600 cursor-pointer"},{default:r(()=>[s(e(l),{size:32},{default:r(()=>[s(e(j),{size:32})]),_:1})]),_:1},8,["to"])])):_("",!0),e(t).active_contest?(i(),n("div",X,[s(u,{to:e(d).ACTIVE_CONTEST,class:"text-gray-300 hover:text-red-600 cursor-pointer"},{default:r(()=>[s(e(l),{size:32},{default:r(()=>[s(e(H),{fill:"currentColor"})]),_:1})]),_:1},8,["to"])])):_("",!0),c("div",{class:B(["text-gray-300 hover:text-red-600 cursor-pointer",{"text-red-600":e(t).is_favorite}]),onClick:a[1]||(a[1]=C=>E())},[s(e(l),{size:32},{default:r(()=>[s(e(A),{size:32})]),_:1})],2),e(t).is_winner?(i(),n("div",Y,[s(u,{to:e(d).WINNER_PAGE,class:"text-red-600 cursor-pointer"},{default:r(()=>[s(e(l),{size:32},{default:r(()=>[s(e(g),{size:32})]),_:1})]),_:1},8,["to"])])):_("",!0)])])}}});export{de as _};
