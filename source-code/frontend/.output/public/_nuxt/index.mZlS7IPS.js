import{_ as E}from"./nuxt-link.yRSe0wqM.js";import{a5 as L,H as z,$ as A,r as N,a6 as F,o as s,c as i,a1 as u,U as t,F as k,V as g,w as a,b as l,a as o,t as n,a3 as C,d as c,a4 as S,Y as $}from"./entry.v4OMADFI.js";import{c as b}from"./contestRepository.Eg8lQ-4z.js";import{N as j}from"./Skeleton.wd94zqKY.js";import{N as d}from"./GradientText.LFdsh8B2.js";import{N as O}from"./Alert.fNYGFclH.js";import{N as U}from"./Result.b2gY02kU.js";import{N as _}from"./Space.RdFBwIDv.js";import"./use-houdini.aBuW05Ae.js";import"./format-length.4l65r8M5.js";import"./get-slot.bpfTnPl7.js";const D=L("user",{state:()=>({user:null}),getters:{accountType:f=>{if(f.user)return f.user.role}},actions:{}}),G={class:"h-full relative"},H={class:"text-2xl sm:text-6xl"},M=["onClick"],P=["src"],Y={class:"mt-3 text-xl font-medium text-center"},q={class:"mt-6"},J={class:"text-xl sm:text-3xl text-center"},re=z({__name:"index",setup(f){D(),A();const m=N(!1),p=N(null),T=async()=>{m.value=!0;try{p.value=await b.winnerList()}catch(x){console.log(x)}m.value=!1};return F(()=>{T()}),(x,K)=>{const B=E;return s(),i("div",G,[m.value?(s(),u(t(j),{key:0,text:"",repeat:2,height:400})):(s(!0),i(k,{key:1},g(p.value,(r,R)=>(s(),u(t(_),{key:R,vertical:"",size:40},{default:a(()=>[l(t(C),null,{default:a(()=>[l(t(_),{vertical:"",align:"center",justify:"center"},{default:a(()=>{var h;return[l(t(d),{type:"success"},{default:a(()=>{var e;return[o("div",H,n((e=r==null?void 0:r.contest)==null?void 0:e.name),1)]}),_:2},1024),(h=r.winners)!=null&&h.length?(s(),u(t(_),{key:0,size:"large"},{default:a(()=>[(s(!0),i(k,null,g(p.value.winners,(e,V)=>(s(),u(t(C),{key:V},{default:a(()=>[l(t(_),{vertical:""},{default:a(()=>{var v;return[o("div",{class:"h-[250px] overflow-hidden rounded w-full max-h-full",onClick:Q=>{var y;return t(S).PROFILE+`${(y=e==null?void 0:e.user)==null?void 0:y.id}`}},[(v=e==null?void 0:e.user)!=null&&v.avatar?(s(),i("img",{key:0,src:e==null?void 0:e.user.avatar,height:"100%",width:"100%",class:"w-full h-full max-w-full max-h-full object-cover"},null,8,P)):(s(),u(t(O),{key:1,title:"Произошла ошибка",type:"error"},{default:a(()=>[c(" Попробуйте позже ")]),_:1}))],8,M),o("div",Y,[c(" Место: "),l(t(d),null,{default:a(()=>[c(n(e.place),1)]),_:2},1024)])]}),_:2},1024)]),_:2},1024))),128))]),_:2},1024)):(s(),u(t(U),{key:1,status:"warning",title:"Победителей пока нет",size:"medium",description:"На данный момент победителей у данного конкурса нет!"},{footer:a(()=>[l(B,{to:t(S).ACTIVE_CONTEST},{default:a(()=>[l(t($),null,{default:a(()=>[c("Посмотрите текущий контест")]),_:1})]),_:1},8,["to"])]),_:1})),o("div",q,[o("span",J,[c("c "),l(t(d),{type:"info"},{default:a(()=>{var e;return[o("div",null,n((e=r.contest)==null?void 0:e.start),1)]}),_:2},1024),c(" по "),l(t(d),{type:"error"},{default:a(()=>{var e;return[o("div",null,n((e=r.contest)==null?void 0:e.finish),1)]}),_:2},1024)])])]}),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])}}});export{re as default};
