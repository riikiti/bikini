import{_ as R}from"./nuxt-link.fsmkxcI1.js";import{H as T,Y as F,Z as M,ac as $,L as f,a2 as d,o as i,c as n,a as c,R as e,$ as I,w as r,b as s,O,d as V,t as v,a0 as _,a9 as B,a3 as h}from"./entry.NiESR0-2.js";import{_ as L}from"./user-default.hW1oF-10.js";import{T as g,S as H}from"./usersRepository.6BeXz1sc.js";import{N as P}from"./Tag.Zv0g0LBQ.js";import{M as j}from"./mail.ijKfoKRx.js";import{H as A}from"./heart.WsNbAllG.js";import{u as G}from"./use-message.2Wr3QayV.js";import{N as l}from"./createLucideIcon.kGbi_Q0V.js";const W={class:"rounded overflow-hidden relative bg-white dark:bg-muted border shadow-accent"},D={class:"absolute top-2 left-2 z-20"},Y=["src"],Z={key:1,src:L,class:"w-full h-full object-cover"},q={class:"space-y-1 mt-3"},J={class:"text-xl font-medium leading-none"},K={class:"grid grid-cols-5 mt-2 self-center pb-2 pt-2"},Q={key:0,class:"text-gray-300 hover:text-red-600"},U={key:1,class:"text-gray-300 hover:text-red-600"},X={key:2,class:"text-gray-300 hover:text-red-600"},de=T({__name:"users-card",props:{card:{}},emits:["update"],setup(x,{emit:y}){const m=G(),k=F(),w=M(),N=y,b=x,{card:t}=$(b),E=f(()=>{const{info:{messages_status:o}}=t.value;if(o){for(const a in o)if(o[a]!==!1&&o[a]!==null)return!0}return!1}),S=async()=>{try{if(t.value.is_favorite){const o=await h.removeFromFavourite(t.value.id);m.warning(o)}else{const o=await h.addToFavourite(t.value.id);m.success(o)}await k.setSettings(),await N("update")}catch{m.error("Ooops!Что-то пошло не так!")}},z=f(()=>d.MESSENGER+`/${t.value.id}`);return(o,a)=>{var p;const u=R;return i(),n("div",W,[c("div",D,[(p=e(t))!=null&&p.rating?(i(),I(e(P),{key:0,round:"",strong:"",bordered:!1},{icon:r(()=>[s(e(l),{component:O(e(g))},null,8,["component"])]),default:r(()=>[V(" "+v(e(t).rating),1)]),_:1})):_("",!0)]),c("div",{class:"h-[250px] relative overflow-hidden rounded-md hover:cursor-pointer",onClick:a[0]||(a[0]=C=>e(w).push(e(d).PROFILE+`${e(t).id}`))},[e(t).avatar?(i(),n("img",{key:0,src:e(t).avatar,width:"100%",height:"100%",class:"w-full h-full object-cover"},null,8,Y)):(i(),n("img",Z))]),c("div",q,[s(u,{to:e(d).PROFILE+`${e(t).id}`,class:"text-black no-underline"},{default:r(()=>[c("h3",J,v(e(t).name),1)]),_:1},8,["to"])]),c("div",K,[E.value?(i(),n("div",Q,[s(u,{to:z.value,class:"text-gray-300 hover:text-red-600 cursor-pointer"},{default:r(()=>[s(e(l),{size:32},{default:r(()=>[s(e(j),{size:32})]),_:1})]),_:1},8,["to"])])):_("",!0),e(t).active_contest?(i(),n("div",U,[s(u,{to:e(d).ACTIVE_CONTEST,class:"text-gray-300 hover:text-red-600 cursor-pointer"},{default:r(()=>[s(e(l),{size:32},{default:r(()=>[s(e(H),{fill:"currentColor"})]),_:1})]),_:1},8,["to"])])):_("",!0),c("div",{class:B(["text-gray-300 hover:text-red-600 cursor-pointer",{"text-red-600":e(t).is_favorite}]),onClick:a[1]||(a[1]=C=>S())},[s(e(l),{size:32},{default:r(()=>[s(e(A),{size:32})]),_:1})],2),e(t).is_winner?(i(),n("div",X,[s(u,{to:e(d).WINNER_PAGE,class:"text-red-600 cursor-pointer"},{default:r(()=>[s(e(l),{size:32},{default:r(()=>[s(e(g),{size:32})]),_:1})]),_:1},8,["to"])])):_("",!0)])])}}});export{de as _};
