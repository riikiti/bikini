import{_ as v}from"./nuxt-link.tPOdUtSL.js";import{_ as x}from"./user-default.r82Vpe4E.js";import{v as N,aj as w,a5 as y,H as b,r as k,a8 as E,o as s,c as l,b as o,w as e,R as t,F as m,a as c,S as M,Z as R,t as j,a0 as _,V as f}from"./entry.ijxm8UDg.js";import{m as B}from"./messengerRepository.YnTOgCxa.js";import{M as S}from"./mail.5DKN5Db7.js";import{U as z}from"./user.OVLEfKro.js";import{u as I}from"./use-message.5syDfwld.js";import{N as n}from"./Space.L9YwrzGv.js";import{N as C}from"./Image.-85Ju_Mf.js";import{N as p}from"./createLucideIcon.z7G80VgR.js";import"./get-slot.bpfTnPl7.js";import"./utils.JgtzKNkW.js";import"./Tooltip.BYPH1xuf.js";import"./Popover.BZeXGedp.js";import"./use-locale.IozPjTd5.js";import"./format-length.4l65r8M5.js";import"./use-merged-state.hKcDm541.js";function F(){const i=N(w,null);return i===null&&y("use-dialog","No outer <n-dialog-provider /> founded."),i}const V=c("div",{class:"text-2xl font-bold sm:text-3xl mb-10"},"Переписки",-1),D={class:"w-[64px] h-[64px] overflow-hidden rounded-lg"},L={key:1,src:x,class:"w-full h-full object-cover"},U={class:"text-2xl font-bold"},at=b({__name:"index",setup(i){I(),F();const d=k(null),h=async()=>{try{const a=await B.allChats();console.log("Response messenger: ",a),d.value=a.user_chats}catch(a){console.log(a)}};return E(async()=>{await h()}),(a,$)=>{const u=v;return s(),l(m,null,[V,o(t(n),{vertical:"",size:"large"},{default:e(()=>[(s(!0),l(m,null,M(t(d),(r,g)=>(s(),l("div",{key:g,class:"p-4 border-solid border-gray-400 border rounded-md overflow-hidden relative"},[o(t(n),{size:"large",align:"center"},{default:e(()=>[c("div",D,[r.avatar?(s(),R(t(C),{key:0,src:r.avatar,width:"100%",height:"100%","object-fit":"cover"},null,8,["src"])):(s(),l("img",L))]),o(t(n),{vertical:""},{default:e(()=>[c("div",U,j(r.name),1),o(t(n),null,{default:e(()=>[o(u,{to:t(_).MESSENGER+`/${r.id}`},{default:e(()=>[o(t(f),null,{default:e(()=>[o(t(p),{size:24},{default:e(()=>[o(t(S))]),_:1})]),_:1})]),_:2},1032,["to"]),o(u,{to:t(_).PROFILE+`${r.id}`},{default:e(()=>[o(t(f),null,{default:e(()=>[o(t(p),{size:24},{default:e(()=>[o(t(z))]),_:1})]),_:1})]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})],64)}}});export{at as default};
