import{_ as E}from"./nuxt-link.J_JEgvNs.js";import{a8 as L,H as z,_ as A,r as N,$ as F,o as a,c as i,R as u,S as t,F as k,V as g,w as s,b as l,a as o,t as n,a1 as C,d as c,a2 as S,T as $}from"./entry.ydcKSOmp.js";import{c as b}from"./contestRepository.ePNIXp2a.js";import{N as j}from"./Skeleton.jlXRaWkg.js";import{N as d}from"./GradientText.RrVuti_1.js";import{N as O}from"./Alert.x3MunG6N.js";import{N as D}from"./Result.zmL_Nw5z.js";import{N as _}from"./Space.nPwSXytI.js";import"./use-houdini.U4416iWO.js";import"./format-length.4l65r8M5.js";import"./get-slot.bpfTnPl7.js";const G=L("user",{state:()=>({user:null}),getters:{accountType:f=>{if(f.user)return f.user.role}},actions:{}}),H={class:"h-full relative"},M={class:"text-2xl sm:text-6xl"},P=["onClick"],U=["src"],q={class:"mt-3 text-xl font-medium text-center"},J={class:"mt-6"},K={class:"text-xl sm:text-3xl text-center"},re=z({__name:"index",setup(f){G(),A();const m=N(!1),p=N(null),T=async()=>{m.value=!0;try{p.value=await b.winnerList()}catch(x){console.log(x)}m.value=!1};return F(()=>{T()}),(x,Q)=>{const R=E;return a(),i("div",H,[m.value?(a(),u(t(j),{key:0,text:"",repeat:2,height:400})):(a(!0),i(k,{key:1},g(p.value,(r,B)=>(a(),u(t(_),{key:B,vertical:"",size:40},{default:s(()=>[l(t(C),null,{default:s(()=>[l(t(_),{vertical:"",align:"center",justify:"center"},{default:s(()=>{var h;return[l(t(d),{type:"success"},{default:s(()=>{var e;return[o("div",M,n((e=r==null?void 0:r.contest)==null?void 0:e.name),1)]}),_:2},1024),(h=r.winners)!=null&&h.length?(a(),u(t(_),{key:0,size:"large"},{default:s(()=>[(a(!0),i(k,null,g(p.value.winners,(e,V)=>(a(),u(t(C),{key:V},{default:s(()=>[l(t(_),{vertical:""},{default:s(()=>{var v;return[o("div",{class:"h-[250px] overflow-hidden rounded w-full max-h-full",onClick:W=>{var y;return t(S).PROFILE+`${(y=e==null?void 0:e.user)==null?void 0:y.id}`}},[(v=e==null?void 0:e.user)!=null&&v.avatar?(a(),i("img",{key:0,src:e==null?void 0:e.user.avatar,height:"100%",width:"100%",class:"w-full h-full max-w-full max-h-full object-cover"},null,8,U)):(a(),u(t(O),{key:1,title:"Произошла ошибка",type:"error"},{default:s(()=>[c(" Попробуйте позже ")]),_:1}))],8,P),o("div",q,[c(" Место: "),l(t(d),null,{default:s(()=>[c(n(e.place),1)]),_:2},1024)])]}),_:2},1024)]),_:2},1024))),128))]),_:2},1024)):(a(),u(t(D),{key:1,status:"warning",title:"Победителей пока нет",size:"medium",description:"На данный момент победителей у данного конкурса нет!"},{footer:s(()=>[l(R,{to:t(S).ACTIVE_CONTEST},{default:s(()=>[l(t($),null,{default:s(()=>[c("Посмотрите текущий контест")]),_:1})]),_:1},8,["to"])]),_:1})),o("div",J,[o("span",K,[c("c "),l(t(d),{type:"info"},{default:s(()=>{var e;return[o("div",null,n((e=r.contest)==null?void 0:e.start),1)]}),_:2},1024),c(" по "),l(t(d),{type:"error"},{default:s(()=>{var e;return[o("div",null,n((e=r.contest)==null?void 0:e.finish),1)]}),_:2},1024)])])]}),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])}}});export{re as default};
