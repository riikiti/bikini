import{_ as $e}from"./ContestPrizeSection.vue.b8yHPFuV.js";import{n as ze,q as oe,s as Be,u as le,r as w,v as Ie,x as J,y as ae,z as ie,A as H,B as O,C as U,D as T,E as G,G as ne,H as N,I as de,J as Ne,K as Ee,L as W,M as Ue,N as Ae,O as S,P as re,Q as Fe,o as x,R as q,c as k,a as g,b as a,w as c,S as o,T as L,d as D,U as Ve,F as j,V as Te,t as Pe,W as A,X as F,Y as De,Z as Me,_ as He,$ as je,a0 as M,a1 as Le,a2 as se,a3 as Ke}from"./entry.ydcKSOmp.js";import{_ as ue}from"./nuxt-link.J_JEgvNs.js";import{_ as Oe}from"./_plugin-vue_export-helper.x3n3nnut.js";import{E as Z}from"./EUserAccoutType.8nCACn_d.js";import{N as Ge,u as qe}from"./useGenerateDateArray.sLfHWyI2.js";import{u as ce}from"./use-message.azrYlSy8.js";import{N as I,a as V,b as Q}from"./FormItem.YFry-03g.js";import{u as pe}from"./use-merged-state._FoYgtTV.js";import{g as We}from"./get-slot.bpfTnPl7.js";import{U as X,L as Y}from"./unlock-keyhole.6YD9suOi.js";import{N as ee,a as te,_ as Ze}from"./MainHeroSection.vue.i6oVQ5te.js";import{N as P}from"./createLucideIcon.6Cz25YP-.js";import{w as Je}from"./wikiRepository.opEsV1kG.js";import"./utils._lHVxeKi.js";import"./Popover.2SHOBVdi.js";import"./use-locale.B4WoGKG3.js";import"./format-length.4l65r8M5.js";import"./Checkmark.SWChxU3v.js";import"./Empty.Vf6a6RTA.js";import"./happens-in.HIJlj3JZ.js";import"./Tag.LqWm2sEN.js";const Xe={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},Ye=n=>{const{borderColor:l,primaryColor:t,baseColor:i,textColorDisabled:u,inputColorDisabled:p,textColor2:d,opacityDisabled:h,borderRadius:e,fontSizeSmall:m,fontSizeMedium:_,fontSizeLarge:y,heightSmall:f,heightMedium:r,heightLarge:s,lineHeight:v}=n;return Object.assign(Object.assign({},Xe),{labelLineHeight:v,buttonHeightSmall:f,buttonHeightMedium:r,buttonHeightLarge:s,fontSizeSmall:m,fontSizeMedium:_,fontSizeLarge:y,boxShadow:`inset 0 0 0 1px ${l}`,boxShadowActive:`inset 0 0 0 1px ${t}`,boxShadowFocus:`inset 0 0 0 1px ${t}, 0 0 0 2px ${oe(t,{alpha:.2})}`,boxShadowHover:`inset 0 0 0 1px ${t}`,boxShadowDisabled:`inset 0 0 0 1px ${l}`,color:i,colorDisabled:p,colorActive:"#0000",textColor:d,textColorDisabled:u,dotColorActive:t,dotColorDisabled:l,buttonBorderColor:l,buttonBorderColorActive:t,buttonBorderColorHover:l,buttonColor:i,buttonColorActive:i,buttonTextColor:d,buttonTextColorActive:t,buttonTextColorHover:t,opacityDisabled:h,buttonBoxShadowFocus:`inset 0 0 0 1px ${t}, 0 0 0 2px ${oe(t,{alpha:.3})}`,buttonBoxShadowHover:"inset 0 0 0 1px #0000",buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:e})},Qe={name:"Radio",common:ze,self:Ye},et=Qe,tt={name:String,value:{type:[String,Number,Boolean],default:"on"},checked:{type:Boolean,default:void 0},defaultChecked:Boolean,disabled:{type:Boolean,default:void 0},label:String,size:String,onUpdateChecked:[Function,Array],"onUpdate:checked":[Function,Array],checkedValue:{type:Boolean,default:void 0}},me=Be("n-radio-group");function ot(n){const l=le(n,{mergedSize(b){const{size:R}=n;if(R!==void 0)return R;if(d){const{mergedSizeRef:{value:$}}=d;if($!==void 0)return $}return b?b.mergedSize.value:"medium"},mergedDisabled(b){return!!(n.disabled||d!=null&&d.disabledRef.value||b!=null&&b.disabled.value)}}),{mergedSizeRef:t,mergedDisabledRef:i}=l,u=w(null),p=w(null),d=Ie(me,null),h=w(n.defaultChecked),e=J(n,"checked"),m=pe(e,h),_=ae(()=>d?d.valueRef.value===n.value:m.value),y=ae(()=>{const{name:b}=n;if(b!==void 0)return b;if(d)return d.nameRef.value}),f=w(!1);function r(){if(d){const{doUpdateValue:b}=d,{value:R}=n;H(b,R)}else{const{onUpdateChecked:b,"onUpdate:checked":R}=n,{nTriggerFormInput:$,nTriggerFormChange:C}=l;b&&H(b,!0),R&&H(R,!0),$(),C(),h.value=!0}}function s(){i.value||_.value||r()}function v(){s(),u.value&&(u.value.checked=_.value)}function B(){f.value=!1}function E(){f.value=!0}return{mergedClsPrefix:d?d.mergedClsPrefixRef:ie(n).mergedClsPrefixRef,inputRef:u,labelRef:p,mergedName:y,mergedDisabled:i,renderSafeChecked:_,focus:f,mergedSize:t,handleRadioInputChange:v,handleRadioInputBlur:B,handleRadioInputFocus:E}}const at=O("radio-group",`
 display: inline-block;
 font-size: var(--n-font-size);
`,[U("splitor",`
 display: inline-block;
 vertical-align: bottom;
 width: 1px;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 background: var(--n-button-border-color);
 `,[T("checked",{backgroundColor:"var(--n-button-border-color-active)"}),T("disabled",{opacity:"var(--n-opacity-disabled)"})]),T("button-group",`
 white-space: nowrap;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[O("radio-button",{height:"var(--n-height)",lineHeight:"var(--n-height)"}),U("splitor",{height:"var(--n-height)"})]),O("radio-button",`
 vertical-align: bottom;
 outline: none;
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 display: inline-block;
 box-sizing: border-box;
 padding-left: 14px;
 padding-right: 14px;
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background: var(--n-button-color);
 color: var(--n-button-text-color);
 border-top: 1px solid var(--n-button-border-color);
 border-bottom: 1px solid var(--n-button-border-color);
 `,[O("radio-input",`
 pointer-events: none;
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 `),U("state-border",`
 z-index: 1;
 pointer-events: none;
 position: absolute;
 box-shadow: var(--n-button-box-shadow);
 transition: box-shadow .3s var(--n-bezier);
 left: -1px;
 bottom: -1px;
 right: -1px;
 top: -1px;
 `),G("&:first-child",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 border-left: 1px solid var(--n-button-border-color);
 `,[U("state-border",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 `)]),G("&:last-child",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 border-right: 1px solid var(--n-button-border-color);
 `,[U("state-border",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 `)]),ne("disabled",`
 cursor: pointer;
 `,[G("&:hover",[U("state-border",`
 transition: box-shadow .3s var(--n-bezier);
 box-shadow: var(--n-button-box-shadow-hover);
 `),ne("checked",{color:"var(--n-button-text-color-hover)"})]),T("focus",[G("&:not(:active)",[U("state-border",{boxShadow:"var(--n-button-box-shadow-focus)"})])])]),T("checked",`
 background: var(--n-button-color-active);
 color: var(--n-button-text-color-active);
 border-color: var(--n-button-border-color-active);
 `),T("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `)])]);function nt(n,l,t){var i;const u=[];let p=!1;for(let d=0;d<n.length;++d){const h=n[d],e=(i=h.type)===null||i===void 0?void 0:i.name;e==="RadioButton"&&(p=!0);const m=h.props;if(e!=="RadioButton"){u.push(h);continue}if(d===0)u.push(h);else{const _=u[u.length-1].props,y=l===_.value,f=_.disabled,r=l===m.value,s=m.disabled,v=(y?2:0)+(f?0:1),B=(r?2:0)+(s?0:1),E={[`${t}-radio-group__splitor--disabled`]:f,[`${t}-radio-group__splitor--checked`]:y},b={[`${t}-radio-group__splitor--disabled`]:s,[`${t}-radio-group__splitor--checked`]:r},R=v<B?b:E;u.push(S("div",{class:[`${t}-radio-group__splitor`,R]}),h)}}return{children:u,isButtonGroup:p}}const rt=Object.assign(Object.assign({},de.props),{name:String,value:[String,Number,Boolean],defaultValue:{type:[String,Number,Boolean],default:null},size:String,disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),st=N({name:"RadioGroup",props:rt,setup(n){const l=w(null),{mergedSizeRef:t,mergedDisabledRef:i,nTriggerFormChange:u,nTriggerFormInput:p,nTriggerFormBlur:d,nTriggerFormFocus:h}=le(n),{mergedClsPrefixRef:e,inlineThemeDisabled:m,mergedRtlRef:_}=ie(n),y=de("Radio","-radio-group",at,et,n,e),f=w(n.defaultValue),r=J(n,"value"),s=pe(r,f);function v(C){const{onUpdateValue:z,"onUpdate:value":K}=n;z&&H(z,C),K&&H(K,C),f.value=C,u(),p()}function B(C){const{value:z}=l;z&&(z.contains(C.relatedTarget)||h())}function E(C){const{value:z}=l;z&&(z.contains(C.relatedTarget)||d())}Ne(me,{mergedClsPrefixRef:e,nameRef:J(n,"name"),valueRef:s,disabledRef:i,mergedSizeRef:t,doUpdateValue:v});const b=Ee("Radio",_,e),R=W(()=>{const{value:C}=t,{common:{cubicBezierEaseInOut:z},self:{buttonBorderColor:K,buttonBorderColorActive:fe,buttonBorderRadius:ve,buttonBoxShadow:be,buttonBoxShadowFocus:he,buttonBoxShadowHover:ge,buttonColor:_e,buttonColorActive:xe,buttonTextColor:we,buttonTextColorActive:ye,buttonTextColorHover:Re,opacityDisabled:Ce,[re("buttonHeight",C)]:ke,[re("fontSize",C)]:Se}}=y.value;return{"--n-font-size":Se,"--n-bezier":z,"--n-button-border-color":K,"--n-button-border-color-active":fe,"--n-button-border-radius":ve,"--n-button-box-shadow":be,"--n-button-box-shadow-focus":he,"--n-button-box-shadow-hover":ge,"--n-button-color":_e,"--n-button-color-active":xe,"--n-button-text-color":we,"--n-button-text-color-hover":Re,"--n-button-text-color-active":ye,"--n-height":ke,"--n-opacity-disabled":Ce}}),$=m?Ue("radio-group",W(()=>t.value[0]),R,n):void 0;return{selfElRef:l,rtlEnabled:b,mergedClsPrefix:e,mergedValue:s,handleFocusout:E,handleFocusin:B,cssVars:m?void 0:R,themeClass:$==null?void 0:$.themeClass,onRender:$==null?void 0:$.onRender}},render(){var n;const{mergedValue:l,mergedClsPrefix:t,handleFocusin:i,handleFocusout:u}=this,{children:p,isButtonGroup:d}=nt(Ae(We(this)),l,t);return(n=this.onRender)===null||n===void 0||n.call(this),S("div",{onFocusin:i,onFocusout:u,ref:"selfElRef",class:[`${t}-radio-group`,this.rtlEnabled&&`${t}-radio-group--rtl`,this.themeClass,d&&`${t}-radio-group--button-group`],style:this.cssVars},p)}}),lt=N({name:"RadioButton",props:tt,setup:ot,render(){const{mergedClsPrefix:n}=this;return S("label",{class:[`${n}-radio-button`,this.mergedDisabled&&`${n}-radio-button--disabled`,this.renderSafeChecked&&`${n}-radio-button--checked`,this.focus&&[`${n}-radio-button--focus`]]},S("input",{ref:"inputRef",type:"radio",class:`${n}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),S("div",{class:`${n}-radio-button__state-border`}),Fe(this.$slots.default,l=>!l&&!this.label?null:S("div",{ref:"labelRef",class:`${n}-radio__label`},l||this.label)))}}),it=N({__name:"MainPrizesSection",setup(n){const l=[{description:"123",image:"http://127.0.0.1:8000/storage/prizes/01HRZD9JZA25EMTRG2XNB4HAEB.jpg",name:"Iphone13",place:1},{description:"123",image:"http://127.0.0.1:8000/storage/prizes/01HRZD9JZA25EMTRG2XNB4HAEB.jpg",name:"Iphone13",place:2},{description:"123",image:"http://127.0.0.1:8000/storage/prizes/01HRZD9JZA25EMTRG2XNB4HAEB.jpg",name:"Iphone13",place:3}],t=W(()=>{const i=l.sort((m,_)=>m.place-_.place),u=i.findIndex(m=>m.place===2),p=i.splice(u,1)[0];i.unshift(p);const d=i.findIndex(m=>m.place===1),h=i.splice(d,1)[0],e=Math.floor(i.length/2);return i.splice(e,0,h),i||[]});return(i,u)=>{const p=$e;return x(),q(p,{"prize-list":t.value},null,8,["prize-list"])}}}),dt={class:"py-6 sm:py-12 md:py-24 bg-gradient-to-r from-cyan-300 to-blue-400"},ut={class:"max-w-[1366px] flex flex-col gap-6 items-center justify-center mx-auto"},ct=g("h2",{class:"text-2xl sm:text-[42px] text-white"},"Голосование, Жюри — поклонники",-1),pt=g("p",{class:"text-lg sm:text-xl text-center text-white my-6 max-w-[800px]"}," Каждый зарегистрированный пользователь может дать свой голос любой участнице тем самым стать членом жюри. Проголосовав, система моментально присваивает голос и отображает в рейтинге на странице участницы в реальном времени. Ни каких закрытых голосований - все прозрачно. ",-1),mt=N({__name:"MainVotingSection",setup(n){return(l,t)=>{const i=ue;return x(),k("section",dt,[g("div",ut,[ct,pt,a(i,{to:"#auth"},{default:c(()=>[a(o(L),{size:"large",round:"",type:"info",bordered:""},{default:c(()=>[D("Голосовать")]),_:1})]),_:1})])])}}}),ft=""+new URL("woman3.memKisOf.jpg",import.meta.url).href,vt=""+new URL("logo.fME-Hu45.png",import.meta.url).href,bt={},ht={class:"py-6 sm:py-12 md:py-24 to-amber-400 relative min-h-[600px]"},gt=Ve('<img src="'+ft+'" alt="Woman" class="absolute top-0 left-0 w-full h-full object-cover object-center -z-[5] brightness-75"><div class="max-w-[1366px] flex flex-col gap-6 items-center justify-center mx-auto"><img src="'+vt+'" alt=""><p class="text-lg sm:text-2xl text-center text-white my-6 max-w-[800px]"> Найдите участниц из вашего региона. <span class="font-bold">Знакомьтесь</span>, пишите, общайтесь </p></div>',2),_t=[gt];function xt(n,l){return x(),k("section",ht,_t)}const wt=Oe(bt,[["render",xt]]),yt={class:"py-6 sm:py-12 md:py-24 bg-gradient-to-r from-orange-300 to-amber-400"},Rt={class:"max-w-[1366px] flex flex-col gap-6 items-center justify-center mx-auto"},Ct=g("h2",{class:"text-2xl sm:text-[42px] text-white"},"Победительницы",-1),kt=g("p",{class:"text-lg sm:text-xl text-center text-white my-6 max-w-[800px]"}," В момент подсчета голосов, система суммирует все голоса пользователей и мгновенно определяются победительницы, набравшие наибольшее количество голосов. ",-1),St=N({__name:"MainWinnerSection",setup(n){return(l,t)=>{const i=ue;return x(),k("section",yt,[g("div",Rt,[Ct,kt,a(i,{to:"#auth"},{default:c(()=>[a(o(L),{size:"large",round:"",type:"warning",bordered:""},{default:c(()=>[D("Победить")]),_:1})]),_:1})])])}}}),$t={class:"w-full"},zt=g("div",{class:"text-3xl mb-8 text-center font-bold"},"Регистрация",-1),Bt={class:"w-full"},It={class:"flex"},Nt=50,Et=N({__name:"AuthRegister",emits:["validated","rejected"],setup(n,{emit:l}){const t=[{value:Z.USER_ACCOUNT,label:"Поклонник"},{value:Z.MODEL_ACCOUNT,label:"Модель"}],i=W(()=>qe(Nt)),u=w(null);function p(r,s){return!!e.value.password&&e.value.password.startsWith(s)&&e.value.password.length>=s.length}function d(r,s){return s===e.value.password}const h=()=>{var r;e.value.confirmPassword&&((r=u.value)==null||r.validate({trigger:"password-input"}))},e=w({email:null,password:null,name:null,role:Z.USER_ACCOUNT,confirmPassword:null,birthday:i.value[0].value}),m={email:[{type:"email",message:"Неверный адрес электронной почты"},{required:!0,message:"Электронная почта обязательна"}],name:[{required:!0,message:"Поле Имя является обязательным"}],password:[{required:!0,message:"Пароль является обязательным полем"}],confirmPassword:[{required:!0,message:"Требуется повторный ввод пароля",trigger:["input","blur"]},{validator:p,message:"Пароль не совпадает с введенным!",trigger:["input"]},{validator:d,message:"Пароль не совпадает с введенным!",trigger:["blur","password-input"]}]};ce();const _=w(null),y=l,f=r=>{var s;r.preventDefault(),(s=_.value)==null||s.validate(v=>{v?y("rejected",v):y("validated",e.value)})};return(r,s)=>(x(),k("div",$t,[zt,g("div",Bt,[a(o(Q),{ref_key:"formRef",ref:_,model:e.value,rules:m,class:"w-full"},{default:c(()=>[a(o(I),{label:"Тип аккаунта",path:"role"},{default:c(()=>[a(o(st),{value:e.value.role,"onUpdate:value":s[0]||(s[0]=v=>e.value.role=v),name:"acount_type",size:"medium",class:"w-full"},{default:c(()=>[(x(),k(j,null,Te(t,(v,B)=>a(o(lt),{key:B,class:"w-1/2 flex-1 text-center",value:v.value},{default:c(()=>[D(Pe(v.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1}),a(o(I),{path:"name",label:"Имя пользователя"},{default:c(()=>[a(o(V),{value:e.value.name,"onUpdate:value":s[1]||(s[1]=v=>e.value.name=v),placeholder:"Имя пользователя",onKeydown:s[2]||(s[2]=A(F(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),a(o(I),{path:"birthday",label:"Год рождения"},{default:c(()=>[a(o(Ge),{value:e.value.birthday,"onUpdate:value":s[3]||(s[3]=v=>e.value.birthday=v),placeholder:"Select",options:i.value},null,8,["value","options"])]),_:1}),a(o(I),{path:"email",label:"E-Мейл"},{default:c(()=>[a(o(V),{value:e.value.email,"onUpdate:value":s[4]||(s[4]=v=>e.value.email=v),placeholder:"E-Мейл",onKeydown:s[5]||(s[5]=A(F(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),a(o(I),{path:"password",label:"Пароль"},{default:c(()=>[a(o(V),{value:e.value.password,"onUpdate:value":s[6]||(s[6]=v=>e.value.password=v),"show-password-on":"click",placeholder:"Пароль",type:"password",onInput:h,onKeydown:s[7]||(s[7]=A(F(()=>{},["prevent"]),["enter"]))},{"password-visible-icon":c(()=>[a(o(P),{size:16,component:("h"in r?r.h:o(S))(o(X))},null,8,["component"])]),"password-invisible-icon":c(()=>[a(o(P),{size:16,component:("h"in r?r.h:o(S))(o(Y))},null,8,["component"])]),_:1},8,["value"])]),_:1}),a(o(I),{path:"confirmPassword",label:"Поворите пароль"},{default:c(()=>[a(o(V),{value:e.value.confirmPassword,"onUpdate:value":s[8]||(s[8]=v=>e.value.confirmPassword=v),"show-password-on":"click",placeholder:"Пароль",type:"password",onKeydown:s[9]||(s[9]=A(F(()=>{},["prevent"]),["enter"]))},{"password-visible-icon":c(()=>[a(o(P),{size:16,component:("h"in r?r.h:o(S))(o(X))},null,8,["component"])]),"password-invisible-icon":c(()=>[a(o(P),{size:16,component:("h"in r?r.h:o(S))(o(Y))},null,8,["component"])]),_:1},8,["value"])]),_:1}),a(o(ee),{gutter:[0,24]},{default:c(()=>[a(o(te),{span:24},{default:c(()=>[g("div",It,[a(o(L),{disabled:e.value.email===null,strong:"",secondary:"",type:"primary",class:"w-full",onClick:f},{default:c(()=>[D(" Регистрация ")]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["model"])])]))}}),Ut=g("div",{class:"text-3xl mb-2 text-center font-bold"},"Cброс пароля",-1),At=g("div",{class:"text-gray-400 text-center mb-4"}," Введите электронную почту, каторую вы указали при регистрации. Мы отправим ссылку для сброса пароля ",-1),Ft={class:"w-full"},Vt={class:"flex"},Tt=N({__name:"AuthResetPassword",emits:["validated"],setup(n,{emit:l}){const t=w({email:null}),i={email:[{type:"email",message:"Неверный адрес электронной почты"},{required:!0,message:"Электронная почта обязательна"}]},u=l,p=w(null),d=h=>{var e;h.preventDefault(),(e=p.value)==null||e.validate(m=>{m||u("validated",t.value)})};return(h,e)=>(x(),k(j,null,[Ut,At,g("div",Ft,[a(o(Q),{ref_key:"formRef",ref:p,model:t.value,rules:i},{default:c(()=>[a(o(I),{path:"email",label:"Е-Мейл"},{default:c(()=>[a(o(V),{value:t.value.email,"onUpdate:value":e[0]||(e[0]=m=>t.value.email=m),placeholder:"Е-Мейл",onKeydown:e[1]||(e[1]=A(F(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),a(o(ee),{gutter:[0,24]},{default:c(()=>[a(o(te),{span:24},{default:c(()=>[g("div",Vt,[a(o(L),{disabled:t.value.email===null,strong:"",secondary:"",type:"primary",class:"w-full",onClick:d},{default:c(()=>[D(" Сбросить пароль ")]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["model"])])],64))}}),Pt=g("div",{class:"text-3xl mb-8 text-center font-bold"},"Вход в систему",-1),Dt={class:"w-full"},Mt={class:"flex"},Ht=N({__name:"AuthLogin",emits:["validated","rejected"],setup(n,{emit:l}){const t=w({email:null,password:null}),i={email:[{type:"email",message:"Неверный адрес электронной почты"},{required:!0,message:"Электронная почта обязательна"}],password:[{required:!0,message:"Пароль является обязательным полем"}]},u=w(null),p=l,d=h=>{var e;h.preventDefault(),(e=u.value)==null||e.validate(m=>{m?p("rejected",m):p("validated",t.value)})};return(h,e)=>(x(),k(j,null,[Pt,g("div",Dt,[a(o(Q),{ref_key:"formRef",ref:u,model:t.value,rules:i},{default:c(()=>[a(o(I),{path:"email","show-label":!1},{default:c(()=>[a(o(V),{value:t.value.email,"onUpdate:value":e[0]||(e[0]=m=>t.value.email=m),placeholder:"E-Мейл",onKeydown:e[1]||(e[1]=A(F(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),a(o(I),{path:"password","show-label":!1},{default:c(()=>[a(o(V),{value:t.value.password,"onUpdate:value":e[2]||(e[2]=m=>t.value.password=m),"show-password-on":"click",placeholder:"Пароль",type:"password",onKeydown:e[3]||(e[3]=A(F(()=>{},["prevent"]),["enter"]))},{"password-visible-icon":c(()=>[a(o(P),{size:16,component:S(o(X))},null,8,["component"])]),"password-invisible-icon":c(()=>[a(o(P),{size:16,component:S(o(Y))},null,8,["component"])]),_:1},8,["value"])]),_:1}),a(o(ee),null,{default:c(()=>[a(o(te),{span:24},{default:c(()=>[g("div",Mt,[a(o(L),{disabled:t.value.email===null,strong:"",secondary:"",type:"primary",class:"w-full",onClick:d},{default:c(()=>[D(" Вход ")]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["model"])])],64))}}),jt={id:"auth",class:"h-1/2 pb-8 sm:min-h-screen flex flex-col sm:justify-center items-center pt-6 sm:py-0 bg-gray-100"},Lt={class:"flex flex-col gap-2 mt-2"},mo=N({__name:"index",setup(n){ce();const l=De(),t=Me(),i=He(),u=w(!0),p=w(!1),d=()=>{u.value=!u.value,p.value=!1},h=()=>{p.value?(p.value=!1,u.value=!0):(p.value=!0,u.value=!1)},e=async()=>{try{const f=await Je.main();console.log(f)}catch(f){console.log(f)}},m=async f=>{await l.login(f),l.isAuth&&(await l.profile(),await i.push(se.ACTIVE_CONTEST))},_=async f=>{try{console.log("resp: ",f);const r=await Ke.refreshPassword({email:f.email});console.log(r)}catch(r){console.log(r)}},y=async f=>{const r={email:f.email,password:f.password,confirm_password:f.confirmPassword,name:f.name,role:f.role,birthdate:f.birthday};await l.register(r),l.isAuth&&(await l.profile(),await t.setSettings(),t.moderatorId&&await i.push(se.MESSENGER+`/${t.moderatorId}`))};return je(async()=>{await e()}),(f,r)=>{const s=it,v=mt,B=wt,E=St;return x(),k(j,null,[a(Ze),g("div",jt,[a(o(Le),{size:"medium",class:"max-w-[360px]"},{default:c(()=>[p.value?M("",!0):(x(),k(j,{key:0},[u.value?(x(),q(Ht,{key:0,onValidated:r[0]||(r[0]=b=>m(b))})):(x(),q(Et,{key:1,onValidated:r[1]||(r[1]=b=>y(b))}))],64)),p.value?(x(),q(Tt,{key:1,onValidated:r[2]||(r[2]=b=>_(b))})):M("",!0),g("div",Lt,[u.value?(x(),k("div",{key:0,class:"underline text-gray-400 hover:text-gray-500 transition-all cursor-pointer",onClick:r[3]||(r[3]=b=>d())}," Бесплатная регистрация ")):M("",!0),!u.value||p.value?(x(),k("div",{key:1,class:"underline text-gray-400 hover:text-gray-500 transition-all cursor-pointer",onClick:r[4]||(r[4]=b=>d())}," Вход ")):M("",!0),p.value?M("",!0):(x(),k("div",{key:2,class:"underline text-gray-400 hover:text-gray-500 transition-all cursor-pointer",onClick:r[5]||(r[5]=b=>h())}," Забыли свой пароль? "))])]),_:1})]),a(s),a(v),a(B),a(E)],64)}}});export{mo as default};
