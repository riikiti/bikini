import{_ as V}from"./nuxt-link.7NJpkCmd.js";import{a5 as z,H as A,r as N,a6 as E,o as s,c as m,a1 as r,U as t,F as y,V as g,w as a,b as o,a as l,t as c,a3 as k,d as u,a4 as L,Y as R}from"./entry.Ka6ubjYN.js";import{c as w}from"./contestRepository.wuJTqtC2.js";import{N as F}from"./Skeleton.fJll9nGz.js";import{N as n}from"./GradientText.-eMpi42z.js";import{N as U}from"./Image.pJIEIRot.js";import{N as b}from"./Alert.UAYY5UCM.js";import{N as j}from"./Result._hMLMPIC.js";import{N as d}from"./Space.3_I-lCIJ.js";import"./use-houdini.ce6Vopfm.js";import"./format-length.4l65r8M5.js";import"./utils.KKsyjsON.js";import"./Popover.EcQVyUUZ.js";import"./use-merged-state.dZIrPwb1.js";import"./get-slot.bpfTnPl7.js";const D=z("user",{state:()=>({user:null}),getters:{accountType:f=>{if(f.user)return f.user.role}},actions:{}}),G={class:"h-full relative"},H={class:"text-[64px]"},M={class:"h-[250px] overflow-hidden rounded w-full max-h-full"},O={class:"mt-3 text-xl font-medium text-center"},Y={class:"mt-6"},q={class:"text-3xl text-center"},ie=A({__name:"index",setup(f){D();const _=N(!1),p=N(null),C=async()=>{_.value=!0;try{p.value=await w.winnerList()}catch(h){console.log(h)}_.value=!1};return E(()=>{C()}),(h,J)=>{const S=V;return s(),m("div",G,[_.value?(s(),r(t(F),{key:0,text:"",repeat:2,height:400})):(s(!0),m(y,{key:1},g(p.value,(i,T)=>(s(),r(t(d),{key:T,vertical:"",size:40},{default:a(()=>[o(t(k),null,{default:a(()=>[o(t(d),{vertical:"",align:"center",justify:"center"},{default:a(()=>{var v;return[o(t(n),{type:"success"},{default:a(()=>{var e;return[l("div",H,c((e=i==null?void 0:i.contest)==null?void 0:e.name),1)]}),_:2},1024),(v=i.winners)!=null&&v.length?(s(),r(t(d),{key:0,size:"large"},{default:a(()=>[(s(!0),m(y,null,g(p.value.winners,(e,B)=>(s(),r(t(k),{key:B},{default:a(()=>[o(t(d),{vertical:""},{default:a(()=>{var x;return[l("div",M,[(x=e==null?void 0:e.user)!=null&&x.avatar?(s(),r(t(U),{key:0,src:e==null?void 0:e.user.avatar,height:"100%",width:"100%","max-height":"100%","max-width":"100%",class:"w-full h-full"},null,8,["src"])):(s(),r(t(b),{key:1,title:"Произошла ошибка",type:"error"},{default:a(()=>[u(" Попробуйте позже ")]),_:1}))]),l("div",O,[u(" Место: "),o(t(n),null,{default:a(()=>[u(c(e.place),1)]),_:2},1024)])]}),_:2},1024)]),_:2},1024))),128))]),_:2},1024)):(s(),r(t(j),{key:1,status:"warning",title:"Победителей пока нет",size:"medium",description:"На данный момент победителей у данного конкурса нет!"},{footer:a(()=>[o(S,{to:t(L).ACTIVE_CONTEST},{default:a(()=>[o(t(R),null,{default:a(()=>[u("Посмотрите текущий контест")]),_:1})]),_:1},8,["to"])]),_:1})),l("div",Y,[l("span",q,[u("c "),o(t(n),{type:"info"},{default:a(()=>{var e;return[l("div",null,c((e=i.contest)==null?void 0:e.start),1)]}),_:2},1024),u(" по "),o(t(n),{type:"error"},{default:a(()=>{var e;return[l("div",null,c((e=i.contest)==null?void 0:e.finish),1)]}),_:2},1024)])])]}),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])}}});export{ie as default};
