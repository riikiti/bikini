import{_ as T}from"./nuxt-link.zQgLBoBM.js";import{H as F,Y as M,Z as $,ac as I,X as O,L as f,a2 as c,o as a,c as n,a as d,R as e,$ as V,w as r,b as s,O as B,d as L,t as v,a0 as l,a9 as A,a3 as h}from"./entry.PBEUk6LD.js";import{_ as H}from"./user-default.M6WcreL7.js";import{T as g,S as P}from"./usersRepository.Ad-XDYOR.js";import{N as j}from"./Tag.7_h8v1q5.js";import{M as G}from"./mail.eD70Hhde.js";import{H as W}from"./heart.NS_Y8GtB.js";import{u as D}from"./use-message.SxD0MRC_.js";import{N as u}from"./createLucideIcon.J3Xj-c4O.js";const X={class:"rounded overflow-hidden relative bg-white dark:bg-muted border shadow-accent"},Y={class:"absolute top-2 left-2 z-20"},Z=["src"],q={key:1,src:H,class:"w-full h-full object-cover"},J={class:"space-y-1 mt-3"},K={class:"text-xl font-medium leading-none"},Q={key:0,class:"grid grid-cols-5 mt-2 self-center pb-2 pt-2"},U={key:0,class:"text-gray-300 hover:text-red-600"},ee={key:1,class:"text-gray-300 hover:text-red-600"},te={key:2,class:"text-gray-300 hover:text-red-600"},ue=F({__name:"users-card",props:{card:{}},emits:["update"],setup(x,{emit:y}){const m=D(),k=M(),w=$(),N=y,S=x,{card:t}=I(S),b=O(),E=f(()=>{const{info:{messages_status:o}}=t.value;if(o){for(const i in o)if(o[i]!==!1&&o[i]!==null)return!0}return!1}),z=async()=>{try{if(t.value.is_favorite){const o=await h.removeFromFavourite(t.value.id);m.warning(o)}else{const o=await h.addToFavourite(t.value.id);m.success(o)}await k.setSettings(),await N("update")}catch{m.error("Ooops!Что-то пошло не так!")}},C=f(()=>c.MESSENGER+`/${t.value.id}`);return(o,i)=>{var p;const _=T;return a(),n("div",X,[d("div",Y,[(p=e(t))!=null&&p.rating?(a(),V(e(j),{key:0,round:"",strong:"",bordered:!1},{icon:r(()=>[s(e(u),{component:B(e(g))},null,8,["component"])]),default:r(()=>[L(" "+v(e(t).rating),1)]),_:1})):l("",!0)]),d("div",{class:"h-[250px] relative overflow-hidden rounded-md hover:cursor-pointer",onClick:i[0]||(i[0]=R=>e(w).push(e(c).PROFILE+`${e(t).id}`))},[e(t).avatar?(a(),n("img",{key:0,src:e(t).avatar,width:"100%",height:"100%",class:"w-full h-full object-cover"},null,8,Z)):(a(),n("img",q))]),d("div",J,[s(_,{to:e(c).PROFILE+`${e(t).id}`,class:"text-black no-underline"},{default:r(()=>[d("h3",K,v(e(t).name),1)]),_:1},8,["to"])]),e(b).user.id!==e(t).id?(a(),n("div",Q,[E.value?(a(),n("div",U,[s(_,{to:C.value,class:"text-gray-300 hover:text-red-600 cursor-pointer"},{default:r(()=>[s(e(u),{size:32},{default:r(()=>[s(e(G),{size:32})]),_:1})]),_:1},8,["to"])])):l("",!0),e(t).active_contest?(a(),n("div",ee,[s(_,{to:e(c).ACTIVE_CONTEST,class:"text-gray-300 hover:text-red-600 cursor-pointer"},{default:r(()=>[s(e(u),{size:32},{default:r(()=>[s(e(P),{fill:"currentColor"})]),_:1})]),_:1},8,["to"])])):l("",!0),d("div",{class:A(["text-gray-300 hover:text-red-600 cursor-pointer",{"text-red-600":e(t).is_favorite}]),onClick:i[1]||(i[1]=R=>z())},[s(e(u),{size:32},{default:r(()=>[s(e(W),{size:32})]),_:1})],2),e(t).is_winner?(a(),n("div",te,[s(_,{to:e(c).WINNER_PAGE,class:"text-red-600 cursor-pointer"},{default:r(()=>[s(e(u),{size:32},{default:r(()=>[s(e(g),{size:32})]),_:1})]),_:1},8,["to"])])):l("",!0)])):l("",!0)])}}});export{ue as _};
