import{H as N,o as i,c as f,F as L,V as P,a as o,a7 as B,t as x,a2 as S,r as b,L as T,a1 as k,w as t,b as s,U as e,Y as g,d as n,a8 as D,Z as O,a9 as R,a6 as A,a4 as F,aa as G,O as H,ab as q,_ as W}from"./entry.1ZxYl7KD.js";import{_ as Y,N as I,a as V}from"./FileUpload.vue.2y-J37nc.js";import{u as Z}from"./use-message.S9nCrm0E.js";import{N as y}from"./Space.oLpKv7Xc.js";import{c as U}from"./contestRepository.QlB_T3Jz.js";import{N as E}from"./GradientText.-6S8YT0y.js";import{E as J}from"./EUserAccoutType.8nCACn_d.js";import{N as K}from"./Alert.m9ej4xwf.js";import{N as Q,a as z}from"./Image.b2j99VNW.js";import{T as X}from"./thumbs-up.E9zo53Ts.js";import{c as ee,N as j}from"./createLucideIcon.6peY8C66.js";import{N as te}from"./Empty.cmmkiUtU.js";import{C as se}from"./chevron-down.p5BBjYK_.js";import"./get-slot.bpfTnPl7.js";import"./Popover.P0RjMtAw.js";import"./format-length.4l65r8M5.js";import"./utils.GoHCELvT.js";/**
 * @license lucide-vue-next v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=ee("CameraIcon",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ae={id:"prizes",class:"pb-12"},ne=o("div",{class:"text-xl md:text-[48px] mb-16"},"Наши призы",-1),le={key:0,class:"gap-8 columns-1 md:columns-3 h-full my-8"},re={class:"relative"},ce=["src"],ie={class:"text-2xl text-center mt-3"},de=N({__name:"ContestPrizeSection",props:{prizeList:{}},setup(w){return(r,m)=>(i(),f("div",ae,[ne,r.prizeList.length?(i(),f("div",le,[(i(!0),f(L,null,P(r.prizeList,(a,c)=>(i(),f("div",{key:c,class:"flex flex-col items-center"},[o("div",re,[o("div",{class:B(["w-[200px] h-[200px] rounded-full shadow-lg flex overflow-hidden relative",{"-mt-12":a.place===1}])},[o("img",{src:a.image,alt:""},null,8,ce)],2),o("div",{class:B(["absolute w-[48px] h-[48px] rounded-full  bottom-2 left-1/2 transform -translate-x-1/2 translate-y-1/2 flex items-center justify-center font-bold text-2xl",{"bg-yellow-300":a.place===1},{"bg-cyan-400":a.place===2},{"bg-violet-400":a.place===3}])},x(a.place),3)]),o("div",ie,x(a.name),1),o("div",null,x(a.description),1)]))),128))])):S("",!0)]))}}),ue=o("div",null,"Конкурс",-1),pe=N({__name:"ContestUserModal",props:{isEdit:{type:Boolean}},emits:["formsave"],setup(w,{emit:r}){const m=w,a=r,c=Z(),h=()=>{c.success("Submit"),a("formsave",l.value)},u=()=>{a("formclose")},l=b(null),p=C=>{l.value=C,console.log("file-upload: ",l.value)},$=b({add:{route:"/api/active-contest/add-photo",method:"POST"},update:{route:"/api/active-contest/update-photo",method:"POST"}}),v=T(()=>$.value[m.isEdit?"update":"add"]);return console.log(v),(C,d)=>{const _=Y;return i(),k(e(D),{preset:"dialog"},{header:t(()=>[ue]),action:t(()=>[s(e(y),{size:"large"},{default:t(()=>[s(e(g),{type:"error",onClick:d[0]||(d[0]=M=>u())},{default:t(()=>[n("Отмена")]),_:1}),s(e(g),{type:"primary",onClick:d[1]||(d[1]=M=>h())},{default:t(()=>[n("Сохранить")]),_:1})]),_:1})]),default:t(()=>[o("div",null,[s(_,{route:e(v).route,method:e(v).method,onUploaded:p},null,8,["route","method"])])]),_:1})}}}),me={class:"w-full"},_e={key:1,class:"bg-gray-100/50 w-full py-8"},fe={class:"text-2xl"},ve=["src"],ge=N({__name:"ContestUser",setup(w){const r=b(!1),m=O();R(m);const a=()=>{r.value=!0,$()},c=b(null),h=async()=>{console.log("saver");const{data:C}=await U.currentUserList();c.value=C.contest_model,console.log(c.value)},u=T(()=>c.value),l=async()=>{await h(),await m.profile(),v()},p=b(!1),$=()=>{p.value=!p.value},v=()=>{p.value=!1,r.value=!1};return A(async()=>{await h()}),(C,d)=>(i(),f(L,null,[o("div",me,[e(u)?(i(),f("div",_e,[s(e(y),{vertical:"",size:"large",align:"center"},{default:t(()=>[o("div",fe,[n(" Я участница конкурса,мой рейтинг "),s(e(E),{gradient:"linear-gradient(to right, #8a2387, #e94057, #f27121)"},{default:t(()=>[n(x(e(u).rating),1)]),_:1})]),o("div",null,[o("img",{src:e(u).photo,alt:"",class:"w-[150px] h-[150px]"},null,8,ve)]),s(e(y),{class:"mt-6"},{default:t(()=>[s(e(g),{tag:"a",href:e(F).PROFILE,class:"uppercase",type:"primary",size:"large",dashed:""},{default:t(()=>[n("Мой Профиль")]),_:1},8,["href"]),s(e(g),{class:"uppercase",type:"primary",size:"large",dashed:"",onClick:a},{default:t(()=>[n("Обновить фото")]),_:1}),s(e(g),{tag:"a",href:e(F).STATISTICS,class:"uppercase",type:"primary",size:"large",dashed:""},{default:t(()=>[n("Статистика")]),_:1},8,["href"])]),_:1})]),_:1})])):(i(),k(e(y),{key:0,justify:"center"},{default:t(()=>[s(e(g),{type:"info",size:"large",class:"md:text-3xl md:py-8",onClick:d[0]||(d[0]=_=>$())},{default:t(()=>[n("Стать участником конкурса")]),_:1})]),_:1}))]),s(e(pe),{show:p.value,"onUpdate:show":d[1]||(d[1]=_=>p.value=_),"is-edit":r.value,onFormsave:l,onFormclose:d[2]||(d[2]=_=>v()),onClose:d[3]||(d[3]=_=>v())},null,8,["show","is-edit"])],64))}}),he={class:"flex flex-col p-4 rounded-lg overflow-hidden shadow"},ye={class:"mb-2 flex justify-between items-center"},xe={key:0},we={class:"h-[250px] overflow-hidden rounded w-full max-h-full"},$e=o("div",{class:"text-center"},[o("span",null,[o("b",{class:"font-extrabold"},"+1"),n(" балл к рейтингу участницы")])],-1),Ce=o("div",{class:"text-center"},[n("Участница увидит что именно "),o("b",null,"ВЫ"),n(" добавили баллы")],-1),be=o("div",{class:"text-center"},[n("Участница увидит что именно "),o("b",null,"ВЫ"),n(" добавили баллы")],-1),Ne=o("div",{class:"text-center"},[n("Участница увидит что именно "),o("b",null,"ВЫ"),n(" добавили баллы")],-1),ke=o("div",{class:"text-center"},[n("Участница увидит что именно "),o("b",null,"ВЫ"),n(" добавили баллы")],-1),ze={class:"text-lg font-bold"},Se=N({__name:"ContestCard",props:{contestItem:{},contestName:{default:""},isEndingContest:{type:Boolean,default:!1}},emits:["save"],setup(w,{emit:r}){const m=w,{contestItem:a}=G(m),c=r,h=async()=>{await q.like(a.value.user.id),c("save")};return(u,l)=>(i(),f("div",he,[o("div",ye,[u.contestName?(i(),f("div",xe,"Конкурс: "+x(u.contestName),1)):S("",!0),s(e(K),{title:"Рейтинг:"+e(a).rating,type:"success"},null,8,["title"])]),o("div",we,[s(e(Q),{src:e(a).photo,height:"100%",width:"100%","max-height":"100%","max-width":"100%",class:"w-full h-full"},null,8,["src"])]),u.isEndingContest?S("",!0):(i(),k(e(V),{key:0,"x-gap":12,"y-gap":12,cols:3,class:"w-full mt-4"},{default:t(()=>[s(e(I),null,{default:t(()=>[s(e(y),{vertical:""},{default:t(()=>[s(e(z),{trigger:"hover",placement:"bottom"},{trigger:t(()=>[s(e(g),{strong:"",secondary:"",size:"large",circle:"",type:"warning",onClick:l[0]||(l[0]=p=>h())},{default:t(()=>[s(e(j),{size:24,component:H(e(X))},null,8,["component"])]),_:1})]),default:t(()=>[$e]),_:1})]),_:1})]),_:1}),s(e(I),{span:2},{default:t(()=>[s(e(y),{vertical:"",align:"end"},{default:t(()=>[s(e(y),null,{default:t(()=>[s(e(z),{trigger:"hover",placement:"bottom"},{trigger:t(()=>[s(e(g),{strong:"",secondary:"",size:"large",circle:"",type:"warning"},{default:t(()=>[n(" +5 ")]),_:1})]),default:t(()=>[Ce]),_:1}),s(e(z),{trigger:"hover",placement:"bottom"},{trigger:t(()=>[s(e(g),{strong:"",secondary:"",size:"large",circle:"",type:"warning"},{default:t(()=>[n(" +15 ")]),_:1})]),default:t(()=>[be]),_:1}),s(e(z),{trigger:"hover",placement:"bottom"},{trigger:t(()=>[s(e(g),{strong:"",secondary:"",size:"large",circle:"",type:"warning"},{default:t(()=>[n(" +25 ")]),_:1})]),default:t(()=>[Ne]),_:1}),s(e(z),{trigger:"hover",placement:"bottom"},{trigger:t(()=>[s(e(g),{strong:"",secondary:"",size:"large",circle:"",type:"warning"},{default:t(()=>[n(" +50 ")]),_:1})]),default:t(()=>[ke]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})),s(e(y),{class:"mt-4"},{default:t(()=>[o("div",ze,x(e(a).user.name),1)]),_:1})]))}}),Ee={key:1},Me=N({__name:"ContestActiveUsers",props:{isActiveContest:{type:Boolean,default:!0}},setup(w){const r=b(null),m=async()=>{try{const a=await U.allModelList();r.value=a.data.contest}catch(a){console.log(a)}};return A(async()=>{await m()}),(a,c)=>r.value&&r.value.users.length>0?(i(),k(e(V),{key:0,cols:"2 m:3 l:4","x-gap":10,"y-gap":10,responsive:"screen"},{default:t(()=>[(i(!0),f(L,null,P(r.value.users,(h,u)=>(i(),k(e(I),{key:u},{default:t(()=>[s(Se,{"contest-item":h,"is-ending-contest":!a.isActiveContest},null,8,["contest-item","is-ending-contest"])]),_:2},1024))),128))]),_:1})):(i(),f("div",Ee,[s(e(te),{description:"Участниц пока нет("},{icon:t(()=>[s(e(j),{size:36,color:"#19A058"},{default:t(()=>[s(e(oe))]),_:1})]),_:1})]))}}),Ie={class:"text-[64px]"},Le=o("div",{class:"text-xl md:text-3xl max-w-[1024px] text-center text-gray-500"}," Присоединяйтесь к нашему фотоконкурсу и продемонстрируйте свой уникальный взгляд на мир. Мы ищем потрясающие, оригинальные изображения, которые рассказывают историю и вызывают эмоции. Независимо от того, являетесь ли вы опытным профессионалом или начинающим любителем, мы приветствуем ваши работы! ",-1),Te={class:"mt-6"},Ae={class:"text-3xl text-center"},Ue={class:"text-gray-800 cursor-pointer absolute bottom-2 md:bottom-8 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},Be={class:"animate-bounce"},Fe=N({__name:"ContestWelcome",props:{contest:{}},setup(w){return(r,m)=>(i(),k(e(y),{vertical:"",align:"center",class:"h-screen",justify:"center"},{default:t(()=>[s(e(E),{type:"success"},{default:t(()=>[o("div",Ie,x(r.contest.name),1)]),_:1}),Le,o("div",Te,[o("span",Ae,[n("c "),s(e(E),{type:"info"},{default:t(()=>[o("div",null,x(r.contest.start),1)]),_:1}),n(" по "),s(e(E),{type:"error"},{default:t(()=>[o("div",null,x(r.contest.finish),1)]),_:1})])]),o("div",Ue,[o("div",Be,[s(e(se),{size:48})])])]),_:1}))}}),Pe={key:0,class:"h-full relative"},Oe={key:0,class:"flex items-center justify-center mt-16 w-full"},Re={class:"mt-16"},Ve=o("div",{class:"text-xl md:text-[48px] mb-16"},"Участницы конкурса",-1),nt=N({__name:"index",setup(w){const r=W(),m=O(),{user:a}=R(m),c=b(null),h=async()=>{try{const l=await U.prizeList(),{data:p}=l;c.value=p.contest}catch(l){console.log(l)}},u=T(()=>{if(c.value.prizes){if(r.isMobile)return c.value.prizes;const l=c.value.prizes.sort((_,M)=>_.place-M.place),p=l.findIndex(_=>_.place===2),$=l.splice(p,1)[0];l.unshift($);const v=l.findIndex(_=>_.place===1),C=l.splice(v,1)[0],d=Math.floor(l.length/2);return l.splice(d,0,C),l}return[]});return A(()=>{h()}),(l,p)=>{const $=de,v=ge;return c.value?(i(),f("div",Pe,[s(Fe,{contest:c.value},null,8,["contest"]),s($,{"prize-list":u.value},null,8,["prize-list"]),e(a).role===e(J).MODEL_ACCOUNT?(i(),f("div",Oe,[s(v)])):S("",!0),o("div",Re,[Ve,s(Me,{"is-active-contest":c.value.active},null,8,["is-active-contest"])])])):S("",!0)}}});export{nt as default};
